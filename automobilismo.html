<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Automobilismo | Corte dos Esportes</title>
  <meta name="description" content="Últimas notícias, resultados e destaques do Automobilismo no Corte dos Esportes.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- FAVICON -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Fonte -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

  <style>
    html, body { height:100%; margin:0; font-family:Montserrat,sans-serif; background:#FFF; color:#0A1E3A; }
    body { min-height:100vh; display:flex; flex-direction:column; }
    main { flex:1; }

    /* HEADER (STICKY) */
    header{
      background:#0A1E3A;
      padding:10px 30px;
      display:flex;
      align-items:center;
      position:sticky;
      top:0;
      z-index:1000;
    }
    .logo-container{ display:flex; align-items:center; gap:12px; }
    .logo-container img{ height:34px; }
    .logo-text{
      font-size:20px;
      font-weight:700;
      color:#FFF;
      letter-spacing:.3px;
      line-height:1;
      text-decoration:none;
    }

    /* MENU (STICKY) */
    .sports-menu{
      background:#FFF;
      padding:15px;
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:12px;
      border-bottom:1px solid #E5E5E5;
      position:sticky;
      top:54px;
      z-index:999;
    }
    .sports-menu a{
      flex:1 1 120px;
      max-width:150px;
      text-align:center;
      padding:12px 8px;
      border:1px solid #1E4BA5;
      border-radius:10px;
      color:#1E4BA5;
      text-decoration:none;
      font-size:14px;
      font-weight:600;
      background:#FFF;
      transition:.3s;
      white-space:nowrap;
    }
    .sports-menu a:hover{ background:#1E4BA5; color:#FFF; }
    .sports-menu a.active{ background:#1E4BA5; color:#FFF; }

    /* CONTEÚDO */
    .page{ max-width:1200px; margin:0 auto; padding:28px 10px 40px; box-sizing:border-box; }
    .hero-central{ text-align:center; margin-bottom:22px; }
    .hero-central h1{ font-size:54px; margin:0 0 10px; }
    .hero-central p{ font-size:18px; margin:0; color:#31425F; }

    .card{
      background:#FFF;
      border:1px solid #E5E5E5;
      border-radius:14px;
      padding:18px;
      box-shadow:0 6px 18px rgba(10,30,58,.06);
      margin-bottom:16px;
    }
    .section-title{ margin:0 0 12px; font-size:18px; }
    .meta{ font-size:12px; color:#5B6B84; margin-top:8px; }

    .news-list{ list-style:none; padding:0; margin:0; }
    .news-list li{ padding:14px 0; border-top:1px solid #EEF1F5; }
    .news-list li:first-child{ border-top:none; padding-top:0; }

    .news-list a{
      text-decoration:none;
      color:#0A1E3A;
      font-weight:700;
      display:inline-block;
      margin-bottom:6px;
      font-size:18px;
      line-height:1.3;
    }
    .news-list a:hover{ color:#1E4BA5; }

    .excerpt{ margin:0; font-size:14px; color:#31425F; line-height:1.55; }
    .empty{ color:#31425F; margin:0; line-height:1.6; }

    footer{
      background:#0A1E3A;
      text-align:center;
      padding:20px;
      font-size:14px;
      color:#FFF;
    }
    footer a{ color:#FFF; text-decoration:none; margin:0 12px; }
    footer a:hover{ color:#1E4BA5; }

    @media (max-width:768px){
      .hero-central h1{ font-size:38px; }
      header{ padding:10px 18px; }
      .logo-container img{ height:30px; }
      .logo-text{ font-size:18px; }
      .sports-menu{ top:50px; }
    }
  </style>
</head>

<body>

<header>
  <div class="logo-container">
    <img src="logo.png" alt="Corte dos Esportes">
    <a class="logo-text" href="index.html">Corte dos Esportes</a>
  </div>
</header>

<div class="sports-menu" id="sportsMenu">
  <a href="index.html" data-slug="inicio">Início</a>
  <a href="atletismo.html" data-slug="atletismo">Atletismo</a>
  <a href="automobilismo.html" data-slug="automobilismo">Automobilismo</a>
  <a href="basquete.html" data-slug="basquete">Basquete</a>
  <a href="esportes-olimpicos.html" data-slug="esportes-olimpicos">Esportes Olímpicos</a>
  <a href="futebol.html" data-slug="futebol">Futebol</a>
  <a href="futebol-americano.html" data-slug="futebol-americano">Futebol Americano</a>
  <a href="futsal.html" data-slug="futsal">Futsal</a>
  <a href="handebol.html" data-slug="handebol">Handebol</a>
  <a href="lutas.html" data-slug="lutas">Lutas</a>
  <a href="skate.html" data-slug="skate">Skate</a>
  <a href="surf.html" data-slug="surf">Surf</a>
  <a href="volei.html" data-slug="volei">Vôlei</a>
  <a href="volei-praia.html" data-slug="volei-praia">Vôlei de Praia</a>
  <a href="tenis.html" data-slug="tenis">Tênis</a>
</div>

<main>
  <div class="page">

    <div class="hero-central">
      <h1>Automobilismo</h1>
      <p>Últimas notícias, resultados e destaques do automobilismo.</p>
    </div>

    <div class="card">
      <h2 class="section-title">
      <ul class="news-list" id="categoryList">
        <li>
          <a href="#">Carregando...</a>
          <p class="excerpt">Aguarde...</p>
          <div class="meta"></div>
        </li>
      </ul>
    </div>

  </div>
</main>

<footer>
  © 2026 Corte dos Esportes |
  <a href="politica.html">Privacidade</a> |
  <a href="contato.html">Contato</a> |
  <a href="sobre.html">Sobre</a> |
  <a href="termos.html">Termos de Uso</a>
</footer>

<script>
  const NEWS_JSON_URL = "noticias.json";
  const CATEGORY_SLUG = "automobilismo";
  const CATEGORY_NAME = "Automobilismo";
  const MAX_ITEMS = 50;

  // Ativa destaque no menu
  document.querySelectorAll("#sportsMenu a").forEach(a => {
    if (a.dataset.slug === CATEGORY_SLUG) a.classList.add("active");
  });

  function escapeHtml(str) {
    return String(str || "").replace(/[&<>"']/g, s => ({
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;"
    }[s]));
  }

  function norm(str) {
    return String(str || "")
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "")
      .toLowerCase()
      .trim();
  }

  function renderList(items) {
    const list = document.getElementById("categoryList");

    if (!items.length) {
      list.innerHTML = `
        <li>
          <p class="empty">
            Ainda não há notícias em <b>${escapeHtml(CATEGORY_NAME)}</b>.
            <br>Adicione notícias no <b>noticias.json</b> com category: "${escapeHtml(CATEGORY_NAME)}".
          </p>
        </li>
      `;
      return;
    }

    list.innerHTML = items.slice(0, MAX_ITEMS).map(it => `
      <li>
        <a href="${escapeHtml(it.url || "#")}">${escapeHtml(it.title || "Sem título")}</a>
        <p class="excerpt">${escapeHtml(it.excerpt || "")}</p>
        <div class="meta">${escapeHtml(it.date || "Hoje")} • ${escapeHtml(it.category || CATEGORY_NAME)}</div>
      </li>
    `).join("");
  }

  async function loadCategory() {
    try {
      const res = await fetch(NEWS_JSON_URL, { cache: "no-store" });
      if (!res.ok) throw new Error("Falha ao carregar noticias.json");
      const data = await res.json();

      const items = Array.isArray(data) ? data : (Array.isArray(data.items) ? data.items : []);

      const filtered = items.filter(it => {
        const c = norm(it.category);
        return c === norm(CATEGORY_NAME) || c === norm(CATEGORY_SLUG);
      });

      renderList(filtered);

    } catch (e) {
      document.getElementById("categoryList").innerHTML = `
        <li>
          <p class="empty">
            Não foi possível carregar as notícias.
            <br>Verifique se <b>noticias.json</b> está na raiz do site.
          </p>
        </li>
      `;
      console.error(e);
    }
  }

  loadCategory();
</script>

</body>
</html>


